<application>
<name>rcCamera with Skeleton3D </name>

    <!--OPC and related modules-->

    <module>
        <name>iCubGui</name>
        <parameters>--xpos 1300 --ypos 0 --width 600 --height 930</parameters>
        <node>localhost</node>
        <tag>iCubGui</tag>
    </module>
    <module>
       <name>objectsPropertiesCollector</name>
       <parameters>--name OPC --no-load-db --no-save-db</parameters>
       <node>localhost</node>
    </module>

     <!--SFM modules-->
    <module>
        <name>rc_yarp_wrapper</name>
        <parameters>--device enp0s31f6:00_14_2d_2c_6e_56 --error 1 --confidence 1</parameters>
        <node>localhost</node>
    </module>

    <module>
        <name>skeleton2D.py</name>
        <parameters>--des /skeleton2D</parameters>
        <node>localhost</node>
    </module>

    <module>
        <name>yarpview</name>
        <parameters>--name /mono --x 320 --y 720 --p 50 --autosize</parameters>
        <node>localhost</node>
    </module>

    <module>
        <name>yarpview</name>
        <parameters>--name /disp --x 960 --y 370 --p 50</parameters>
        <node>localhost</node>
    </module>

    <module>
        <name>yarpview</name>
        <parameters>--name /color --x 320 --y 720 --p 50 --autosize</parameters>
        <node>localhost</node>
    </module>

    <module>
        <name>yarpview</name>
        <parameters>--name /confidence --x 960 --y 720 --p 50</parameters>
        <node>localhost</node>
    </module>

    <!--Skeleton modules-->
    <module>
        <name>yarpview</name>
        <parameters>--name /dispSkeleton:i --x 640 --y 720 --p 50</parameters>
        <node>localhost</node>
    </module>
    <module>
        <name>skeleton3D</name>
        <parameters>--depth_rpc /rc_img_conveyor/rpc --dThresholdDisparition 10.0 --part_dimension 0.07 --filter_order 9 --use_part_conf 0 --period 0.01 --body_valence 0.0</parameters>
        <dependencies>
            <port timeout="10">/OPC/rpc</port>
            <port timeout="10">/rc_img_conveyor/rpc</port>
            <port timeout="10">/skeleton2D/bodyParts:o</port>
        </dependencies>
        <node>localhost</node>
    </module>
    <!--PPS modules-->


    <!--GUI modules-->
    <module>
        <name>guiUpdater</name>
        <parameters>--displaySkeletons 1</parameters>
        <dependencies>
            <port timeout="10">/OPC/rpc</port>
        </dependencies>
        <node>localhost</node>
    </module>



	<ensure>
		<wait>5.0</wait>
	</ensure>

    <!--PPS connections-->



    <!--Skeleton connections-->
    <connection>
        <from>/skeleton2D/dispSkeleton:o</from>
        <to>/dispSkeleton:i</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/skeleton2D/bodyParts:o</from>
        <to>/skeleton3D/bodyParts:i</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/rc_img_conveyor/mono</from>
        <to>/mono</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/rc_img_conveyor/color</from>
        <to>/color</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/rc_img_conveyor/disp</from>
        <to>/disp</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/rc_img_conveyor/confidence</from>
        <to>/confidence</to>
        <protocol>udp</protocol>
    </connection>

</application>


